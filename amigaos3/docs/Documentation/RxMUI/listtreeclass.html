<html>

<head>
<title>Listtree class</title>
</head>

<body>

<table border="0" width="100%">
  <tr>
    <td width="1" valign="bottom"><a href="classes.html"><font size="2">Index</font></a></td>
    <td width="1" valign="bottom"><a href="listclass.html"><font size="2">Parent</font></a></td>
    <td><h2 align="right">Listtree class</h2>
    </td>
  </tr>
  <tr>
    <td colspan="3"><hr size="1" noshade>
    </td>
  </tr>
</table>

<p>The Listtree class is used to manipulate trees of lists.</p>

<p>A Listtree object can only be added to a Listview object at Listview creation time.</p>

<p>Despite Listtree class is declared to be subclass of List class, no List attribute and
method may be used with a Listtree object.</p>

<p>Listtree is a subclass of Listtree.mcc so you must have Listtree.mcc in MUI:Libs/MUI to
use it. Listtree.mcc is copyright of <a href="mailto:kmelREMOVEME@eifel.oche.de">Klaus
Melchior</a>.</p>

<p>&nbsp;</p>

<table border="1" cellpadding="4" width="100%">
  <tr>
    <th colspan="4"><u><strong>Attributes</strong></u></th>
  </tr>
  <tr>
    <th><em><strong>Name</strong></em></th>
    <th><em><strong>Type</strong></em></th>
    <th><em><strong>Class</strong></em></th>
    <th><em><strong>Note</strong></em></th>
  </tr>
  <tr>
    <td><strong>ActiveID</strong></td>
    <td>N</td>
    <td>ISGN</td>
    <td><p align="left">This attribute indicates the active entry in a Listtree. The
    possible values are non negative integer, where 0 means no active entry, &gt;0 means there
    is an active entry.<br>
    <strong>Note that any reference to an entry is made by ActiveID !!!.</strong></td>
  </tr>
  <tr>
    <td><strong>ActiveName</strong></td>
    <td>S</td>
    <td>ISGN</td>
    <td>The name of the active entry</td>
  </tr>
  <tr>
    <td><strong>DoubleClick</strong></td>
    <td>B</td>
    <td>GN G2N</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DragDropSort</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DropMark</strong></td>
    <td>N</td>
    <td>G</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DropType</strong></td>
    <td>S</td>
    <td>G</td>
    <td>One of: <ul>
      <li>Above</li>
      <li>Below</li>
      <li>Onto</li>
      <li>Sorted</li>
      <li>None</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>EmptyNodes</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Format</strong></td>
    <td>S</td>
    <td>I</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Quiet</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Title</strong></td>
    <td>S</td>
    <td>I</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>TreeColumn</strong></td>
    <td>N</td>
    <td>ISGN</td>
    <td>&nbsp;</td>
  </tr>
</table>

<p>&nbsp;</p>

<p>&nbsp;</p>

<table border="1" cellpadding="4" width="100%">
  <tr>
    <th colspan="3"><u><strong>Methods</strong></u></th>
  </tr>
  <tr>
    <th><em><strong>Name</strong></em></th>
    <th><em><strong>Parameters</strong></em></th>
    <th><em><strong>Note</strong></em></th>
  </tr>
  <tr>
    <td><strong>Clear</strong></td>
    <td>&nbsp;</td>
    <td>Clear the whole Listtree.</td>
  </tr>
  <tr>
    <td><strong>Close</strong></td>
    <td>&nbsp;</td>
    <td>Closes the whole Listtree</td>
  </tr>
  <tr>
    <td><strong>FindName</strong></td>
    <td>&lt;var&gt;,&lt;name&gt;,[list],[flags]</td>
    <td>Gets an entry by name. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>name</em> - the name of the entry to find</li>
      <li><em>list</em> - where to search; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (Default)</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>Activate</li>
          <li>SameLevel</li>
          <li>Selected</li>
          <li>StartNode</li>
          <li>Visible</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>GetEntry</strong></td>
    <td>&lt;var&gt;,[id]</td>
    <td>Gets an entry by id. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>id</em> - a positive integral number or Active (Default) </li>
    </ul>
    <p>The method writes in <em>var</em> the entry and in the fields: <ul>
      <li>.Frozen</li>
      <li>.List</li>
      <li>.NoSign</li>
      <li>.Open</li>
      <li>.Selected</li>
    </ul>
    <p>an ARexx boolean</td>
  </tr>
  <tr>
    <td><strong>GetEntry2</strong></td>
    <td>&lt;var&gt;,[id],[pos],[flags]</td>
    <td>Relative-gets an entry by id. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>id</em> - a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (Default)</li>
        </ul>
      </li>
      <li><em>pos</em> - <em>id</em>-relative position of the node to get; one of: <ul>
          <li>Head (Default)</li>
          <li>Tail</li>
          <li>Active</li>
          <li>Next</li>
          <li>Previous</li>
          <li>Parent</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>SameLevel</li>
          <li>Visible</li>
        </ul>
      </li>
    </ul>
    <p>The method writes in <em>var</em> the entry and in the fields: <ul>
      <li>.Frozen</li>
      <li>.List</li>
      <li>.NoSign</li>
      <li>.Open</li>
      <li>.Selected</li>
    </ul>
    <p>an ARexx boolean</td>
  </tr>
  <tr>
    <td><strong>Insert</strong></td>
    <td>&lt;entry&gt;,[list],[prev],[flags],[name]</td>
    <td>Arguments: <ul>
      <li><em>entry</em> - the entry to insert</li>
      <li><em>list</em> - the node which list is used to insert the entry; a positive integral
        number or one of: <ul>
          <li>Root</li>
          <li>Active (Default)</li>
        </ul>
      </li>
      <li><em>list</em> - the node which is the predecessor of the node to insert; a positive
        integral number or one of: <ul>
          <li>Head</li>
          <li>Tail</li>
          <li>Active (Default)</li>
          <li>Sorted</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>Open</li>
          <li>List</li>
          <li>Frozen</li>
          <li>NoSign</li>
          <li>NextNode</li>
          <li>Active</li>
          <li>Visible</li>
        </ul>
      </li>
      <li><em>name</em> - the name of the entry</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>Open</strong></td>
    <td>&nbsp;</td>
    <td>Opens the whole Listtree</td>
  </tr>
  <tr>
    <td><strong>Remove</strong></td>
    <td>[id],[what]</td>
    <td>Removes and entry. <p>Arguments: <ul>
      <li><em>id</em> - the entry to remove; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (default)</li>
        </ul>
      </li>
      <li><em>what</em> - what to remove with <em>id</em>; one of: <ul>
          <li>Head</li>
          <li>Tail</li>
          <li>Active</li>
          <li>All</li>
        </ul>
      </li>
    </ul>
    <p>Note that if <em>what</em> is not supplied, all <em>id</em> is removed.</td>
  </tr>
  <tr>
    <td><strong>Sort</strong></td>
    <td>[id],[flags]</td>
    <td>Sorts entries. <p>Arguments: <ul>
      <li><em>id</em> - what to sort; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (Default)</li>
        </ul>
      </li>
      <li><em>flags</em> - one of: <ul>
          <li>Open</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
</table>

<p>&nbsp;</p>

<p><strong>Example</strong></p>

<p>&nbsp;</p>

<p><strong>Static creation</strong></p>

<pre> list.Frame=&quot;InputList&quot;
 list.Format=&quot;BAR,&quot;
 list.Title=&quot;Name|Phone&quot;
  list.0=&quot;Friends&quot;; list.0.flags=&quot;close&quot;; list.0.list=&quot;am&quot;
   am.0=&quot;Frank|0864845111&quot;; am.0.name=&quot;Frank&quot;
   am.2=&quot;University&quot;; am.2.name=&quot;uni&quot;; am.2.type=&quot;tree&quot;; am.2.flags=&quot;close&quot;
   am.2.list=&quot;uni&quot;
    uni.0=&quot;Mary&quot;; uni.0.name=&quot;Mary&quot;
    uni.1=&quot;Jhon&quot;
    uni.2=&quot;Profs&quot;; uni.2.flags=&quot;list&quot;
   am.1=&quot;Robert&quot;
  list.1=&quot;Computer Shop&quot;</pre>

<p><strong>Dynamic insertion</strong></p>

<pre> list.Frame=&quot;InputList&quot;
 list.Format=&quot;BAR,&quot;
 list.Title=&quot;Name|Phone&quot;

 ...

 call set(&quot;list&quot;,&quot;Quiet&quot;,1)
 call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Friends&quot;,&quot;root&quot;,,&quot;List&quot;); friends=rc
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Franck|0864845111&quot;,friends,,,&quot;A&quot;)
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;University&quot;,friends,,&quot;List&quot;,&quot;uni&quot;); uni=rc
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Mary&quot;,uni,,,&quot;Mary&quot;)
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Jhon&quot;,uni)
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Profs&quot;,uni,,&quot;list&quot;)
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Robert&quot;,friends)
 call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Computer Shop&quot;,&quot;root&quot;)
 call set(&quot;list&quot;,&quot;Quiet&quot;,0)</pre>

<p><strong>How to get all the entries of a Listtree (with its structure)</strong></p>

<pre> call printList(&quot;root&quot;,0)

 ...

 printList: procedure
 parse arg l,s
     call DoMethod(&quot;Listtree&quot;,&quot;GetEntry2&quot;,&quot;e&quot;,l,&quot;head&quot;)
     do while rc
         say copies(&quot; &quot;,s) || &quot;Name:&quot;e.name &quot;Value:&quot;e &quot;ID:&quot;e.id &quot;IsList:&quot;e.list
         if e.list then call printList(e.id,s+1)
         call DoMethod(&quot;Listtree&quot;,&quot;GetEntry2&quot;,&quot;e&quot;,e.id,&quot;next&quot;)
     end
     return</pre>
</body>
</html>