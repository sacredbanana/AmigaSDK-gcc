<html>

<head>
<title>NListtree class</title>
</head>

<body>

<table border="0" width="100%">
  <tr>
    <td width="1" valign="bottom"><a href="classes.html"><font size="2">Index</font></a></td>
    <td width="1" valign="bottom"><a href="nlistclass.html"><font size="2">Parent</font></a></td>
    <td><h2 align="right">NListtree class</h2>
    </td>
  </tr>
  <tr>
    <td colspan="3"><hr size="1" noshade>
    </td>
  </tr>
</table>

<p>The NListtree class is used to manipulate trees of lists.</p>

<p>A NListtree object can only be added to a NListview object at NListview creation time.</p>

<p>Despite NListtree class is declared to be subclass of NList class, no NList attribute
and method may be used with a NListtree object.</p>

<p>NListtree is a subclass of NListtree.mcc so you must have NListtree.mcc in MUI:libs/mui
to use it. NListtree.mcc is copyright of <a href="mailto:csREMOVEME@aphaso.de">Carsten
Scholling</a>.</p>

<p>&nbsp;</p>

<table border="1" cellpadding="4" width="100%">
  <tr>
    <th colspan="4"><u><strong>Attributes</strong></u></th>
  </tr>
  <tr>
    <th><em><strong>Name</strong></em></th>
    <th><em><strong>Type</strong></em></th>
    <th><em><strong>Class</strong></em></th>
    <th><em><strong>Note</strong></em></th>
  </tr>
  <tr>
    <td><strong>ActiveID</strong></td>
    <td>N</td>
    <td>ISGN</td>
    <td><p align="left">This attribute indicates the active entry in a NListtree. The
    possible values are non negative integer, where 0 means no active entry, &gt;0 means there
    is an active entry.<br>
    <strong>Note that any reference to an entry is made by ActiveID !!!.</strong></td>
  </tr>
  <tr>
    <td><strong>ActiveList</strong></td>
    <td>N</td>
    <td>G</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>ActiveName</strong></td>
    <td>S</td>
    <td>ISGN</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>AutoVisible</strong></td>
    <td>M</td>
    <td>ISGN G2N</td>
    <td>A number or one of: <ul>
      <li>Off</li>
      <li>Normal</li>
      <li>FirstOpen</li>
      <li>Expand</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>DoubleClick</strong></td>
    <td>M</td>
    <td>ISGN G2N</td>
    <td>A number or one of: <ul>
      <li>Off</li>
      <li>All</li>
      <li>Tree</li>
      <li>NoTrigger</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>DragDropSort</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DragSortable</strong></td>
    <td>B</td>
    <td>ISG</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DropTarget</strong></td>
    <td>S</td>
    <td>GN</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>DropType</strong></td>
    <td>S</td>
    <td>GN</td>
    <td>One of:<ul>
      <li>Above</li>
      <li>Below</li>
      <li>Onto</li>
      <li>Sorted</li>
      <li>None</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>EmptyNodes</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Format</strong></td>
    <td>S</td>
    <td>I</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Image</strong></td>
    <td>S</td>
    <td>I</td>
    <td><a href="list_images.html">See Images in lists</a></td>
  </tr>
  <tr>
    <td><strong>MultiSelect</strong></td>
    <td>M</td>
    <td>I</td>
    <td>A number or one of: <ul>
      <li>None</li>
      <li>Default</li>
      <li>Shifted</li>
      <li>Always</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>Quiet</strong></td>
    <td>B</td>
    <td>IS</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>ShowTree</strong></td>
    <td>N</td>
    <td>ISGN</td>
    <td>Show tree structures flag.If 0, the tree is not shown, if 1 the tree is shown, if set
    to -1, toggle tree.</td>
  </tr>
  <tr>
    <td><strong>Title</strong></td>
    <td>S</td>
    <td>I</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>TreeColumn</strong></td>
    <td>N</td>
    <td>ISGN</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><strong>Visible</strong></td>
    <td>N</td>
    <td>N</td>
    <td>&nbsp;</td>
  </tr>
</table>

<p>&nbsp;</p>

<p>&nbsp;</p>

<table border="1" cellpadding="4" width="100%">
  <tr>
    <th colspan="3"><u><strong>Methods</strong></u></th>
  </tr>
  <tr>
    <th><em><strong>Name</strong></em></th>
    <th><em><strong>Parameters</strong></em></th>
    <th><em><strong>Note</strong></em></th>
  </tr>
  <tr>
    <td><strong>Clear</strong></td>
    <td>&nbsp;</td>
    <td>Clear the whole NListtree.</td>
  </tr>
  <tr>
    <td><strong>Close</strong></td>
    <td>[list],[what]</td>
    <td>Closes an entry. <p>Arguments <ul>
      <li><em>list</em> - the list to close; a positive integral number or one of: <ul>
          <li>Active (default)</li>
          <li>Parent</li>
          <li>Root</li>
        </ul>
      </li>
      <li><em>what</em> - what to close; one of: <ul>
          <li>Active (Default)</li>
          <li>All</li>
          <li>Head</li>
          <li>Tail</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>FindName</strong></td>
    <td>&lt;var&gt;,&lt;name&gt;,[list],[flags]</td>
    <td>Gets an entry by name. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>name</em> - the name of the entry to find</li>
      <li><em>list</em> - where to search; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (Default)</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>Activate</li>
          <li>SameLevel</li>
          <li>Selected</li>
          <li>StartNode</li>
          <li>Visible</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>GetEntry</strong></td>
    <td>&lt;var&gt;,[id],[flags]</td>
    <td>Gets an entry by id. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>id</em> - a positive integral number or Active (Default) </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>SameLevel</li>
          <li>Visible</li>
        </ul>
      </li>
    </ul>
    <p>The method writes in <em>var</em> the entry and in the fields: <ul>
      <li>.Frozen</li>
      <li>.ID</li>
      <li>.List</li>
      <li>.Name</li>
      <li>.NoSign</li>
      <li>.Open</li>
      <li>.Selected</li>
    </ul>
    <p>an ARexx boolean</td>
  </tr>
  <tr>
    <td><strong>GetEntry2</strong></td>
    <td>&lt;var&gt;,[id],[pos],[flags]</td>
    <td>Relative-gets an entry by id. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
      <li><em>id</em> - a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (Default)</li>
        </ul>
      </li>
      <li><em>pos</em> - <em>id</em>-relative position of the node to get; one of: <ul>
          <li>Head (Default)</li>
          <li>Tail</li>
          <li>Active</li>
          <li>Next</li>
          <li>Previous</li>
          <li>Parent</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>SameLevel</li>
          <li>Visible</li>
        </ul>
      </li>
    </ul>
    <p>The method writes in <em>var</em> the entry and in the fields: <ul>
      <li>.Frozen</li>
      <li>.ID</li>
      <li>.List</li>
      <li>.Name</li>
      <li>.NoSign</li>
      <li>.Open</li>
      <li>.Selected</li>
    </ul>
    <p>an ARexx boolean</td>
  </tr>
  <tr>
    <td><strong>GetSelected</strong></td>
    <td>&lt;var&gt;</td>
    <td>Gets the list of the selected entries. <p>Arguments: <ul>
      <li><em>var</em> - where to store results</li>
    </ul>
    <p>The method writes in var.num the number of the selected entries and in var.0,... var.i
    (i=var.num-1) the entries:</p>
    <pre>    do i=0 to sel.num-1
        say sel.i
    end</pre>
    </td>
  </tr>
  <tr>
    <td><strong>Insert</strong></td>
    <td>&lt;entry&gt;,[list],[prev],[flags],[name]</td>
    <td>Arguments: <ul>
      <li><em>entry</em> - the entry to insert</li>
      <li><em>list</em> - the node which list is used to insert the entry; a positive integral
        number or one of: <ul>
          <li>Root</li>
          <li>Active</li>
          <li>ActiveFallBack (Default)</li>
          <li>LastInserted</li>
        </ul>
      </li>
      <li><em>prev</em> - the node which is the predecessor of the node to insert; a positive
        integral number or one of: <ul>
          <li>Head</li>
          <li>Tail</li>
          <li>Active (Default)</li>
          <li>Sorted</li>
        </ul>
      </li>
      <li><em>flags</em> - one or more of: <ul>
          <li>Open</li>
          <li>List</li>
          <li>Frozen</li>
          <li>NoSign</li>
          <li>Active</li>
          <li>NextNode</li>
        </ul>
      </li>
      <li><em>name</em> - the name of the entry</li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>Open</strong></td>
    <td>[list],[what]</td>
    <td>Opens an entry. <p>Arguments <ul>
      <li><em>list</em> - the list to open; a positive integral number or one of: <ul>
          <li>Active (default)</li>
          <li>Parent</li>
          <li>Root</li>
        </ul>
      </li>
      <li><em>what</em> - what to open; one of: <ul>
          <li>Active</li>
          <li>All (Default)</li>
          <li>Head</li>
          <li>Tail</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>Remove</strong></td>
    <td>[id],[what]</td>
    <td>Removes and entry. <p>Arguments: <ul>
      <li><em>id</em> - the entry to remove; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>Root (default)</li>
        </ul>
      </li>
      <li><em>what</em> - what to remove with <em>id</em>; one of: <ul>
          <li>Active</li>
          <li>All</li>
          <li>Head</li>
          <li>Tail</li>
        </ul>
      </li>
    </ul>
    <p>Note that if <em>what</em> is not supplied, all <em>id</em> is removed.</td>
  </tr>
  <tr>
    <td><strong>Select</strong></td>
    <td>[id],[selType]</td>
    <td>Selects entries. <p>Arguments: <ul>
      <li><em>id</em> - the entry to select; a positive integral number or one of: <ul>
          <li>Active (default)</li>
          <li>All</li>
          <li>Visible</li>
        </ul>
      </li>
      <li><em>selType</em> - one of: <ul>
          <li>Off</li>
          <li>On (Default)</li>
          <li>Toggle</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
  <tr>
    <td><strong>Sort</strong></td>
    <td>[id],[flags]</td>
    <td>Sorts entries. <p>Arguments: <ul>
      <li><em>id</em> - what to sort; a positive integral number or one of: <ul>
          <li>Active</li>
          <li>ActiveList</li>
          <li>Root (default)</li>
        </ul>
      </li>
      <li><em>flags</em> - one of: <ul>
          <li>All</li>
          <li>Open</li>
        </ul>
      </li>
    </ul>
    </td>
  </tr>
</table>

<p>&nbsp;</p>

<p><strong>Example</strong></p>

<p>&nbsp;</p>

<p><strong>Static creation</strong></p>

<pre> list.Frame=&quot;InputList&quot;
 list.Format=&quot;BAR,&quot;
 list.Title=&quot;Name|Phone&quot;
  list.0=&quot;Friends&quot;; list.0.list=&quot;am&quot;
   am.0=&quot;Frank|0864845111&quot;; am.0.name=&quot;Frank&quot;
   am.2=&quot;University&quot;; am.2.name=&quot;uni&quot;; am.2.type=&quot;tree&quot;; am.2.list=&quot;uni&quot;
    uni.0=&quot;Mary&quot;; uni.0.name=&quot;Mary&quot;
    uni.1=&quot;Jhon&quot;
    uni.2=&quot;Profs&quot;; uni.2.flags=&quot;list&quot;
   am.1=&quot;Robert&quot;
  list.1=&quot;Computer Shop&quot;</pre>

<p><strong>Dynamic insertion</strong></p>

<pre> list.Frame=&quot;InputList&quot;
 list.Format=&quot;BAR,&quot;
 list.Title=&quot;Name|Phone&quot;

 ...

 call set(&quot;list&quot;,&quot;Quiet&quot;,1)
 call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Friends&quot;,&quot;root&quot;,,&quot;List&quot;); friends=rc
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Franck|0864845111&quot;,friends,,,&quot;A&quot;)
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;University&quot;,friends,,&quot;List&quot;,&quot;uni&quot;); uni=rc
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Mary&quot;,uni,,,&quot;Mary&quot;)
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Jhon&quot;,uni)
   call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Profs&quot;,uni,,&quot;list&quot;)
  call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Robert&quot;,friends)
 call DoMethod(&quot;list&quot;,&quot;Insert&quot;,&quot;Computer Shop&quot;,&quot;root&quot;)
 call set(&quot;list&quot;,&quot;Quiet&quot;,0)</pre>

<p><strong>How to get all the entries of a NListtree (with its structure)</strong></p>

<pre> call printList(&quot;root&quot;,0)

 ...

 printList: procedure
 parse arg l,s
     call DoMethod(&quot;Listtree&quot;,&quot;GetEntry2&quot;,&quot;e&quot;,l,&quot;head&quot;)
     do while rc
         say copies(&quot; &quot;,s) || &quot;Name:&quot;e.name &quot;Value:&quot;e &quot;ID:&quot;e.id &quot;IsList:&quot;e.list
         if e.list then call printList(e.id,s+1)
         call DoMethod(&quot;Listtree&quot;,&quot;GetEntry2&quot;,&quot;e&quot;,e.id,&quot;next&quot;)
     end
     return</pre>
</body>
</html>