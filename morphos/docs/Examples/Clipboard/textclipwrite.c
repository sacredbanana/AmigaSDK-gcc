/* clipboard.library example */
/* writing clipboard text    */
/* Grzegorz Kraszewski 2014  */

#define USE_INLINE_STDARG

#include <proto/exec.h>
#include <proto/dos.h>
#include <proto/clipboard.h>
#include <libraries/charsets.h>

/* This is the first sentence of Russian Wikipedia article "MorphOS" in UTF-16BE. */

UWORD MyText[] = {
	0x004D, 0x006F, 0x0072, 0x0070, 0x0068, 0x004F, 0x0053, 0x00A0,
	0x2014, 0x0020, 0x043F, 0x0440, 0x043E, 0x043F, 0x0440, 0x0438,
	0x0435, 0x0442, 0x0430, 0x0440, 0x043D, 0x0430, 0x044F, 0x0020,
	0x043C, 0x043D, 0x043E, 0x0433, 0x043E, 0x0437, 0x0430, 0x0434,
	0x0430, 0x0447, 0x043D, 0x0430, 0x044F, 0x0020, 0x043E, 0x043F,
	0x0435, 0x0440, 0x0430, 0x0446, 0x0438, 0x043E, 0x043D, 0x043D,
	0x0430, 0x044F, 0x0020, 0x0441, 0x0438, 0x0441, 0x0442, 0x0435,
	0x043C, 0x0430, 0x0020, 0x0028, 0x041E, 0x0421, 0x0029, 0x002C,
	0x0020, 0x043F, 0x0440, 0x0435, 0x0434, 0x043D, 0x0430, 0x0437,
	0x043D, 0x0430, 0x0447, 0x0435, 0x043D, 0x043D, 0x0430, 0x044F,
	0x0020, 0x0434, 0x043B, 0x044F, 0x0020, 0x043B, 0x0438, 0x043D,
	0x0435, 0x0439, 0x043A, 0x0438, 0x0020, 0x043F, 0x0440, 0x043E,
	0x0446, 0x0435, 0x0441, 0x0441, 0x043E, 0x0440, 0x043E, 0x0432,
	0x0020, 0x0050, 0x006F, 0x0077, 0x0065, 0x0072, 0x0050, 0x0043,
	0x002E, 0x0000
};




struct Library *ClipboardBase;

int main(void)
{
	LONG cliperror;

	if ((ClipboardBase = OpenLibrary("clipboard.library", 51)))
	{
		cliperror = WriteClipText(MyText,
			CLP_Rectangular, FALSE,
			CLP_Charset, MIBENUM_UTF_16BE,
		TAG_END);

		Printf("WriteClipText() returned %ld\n", cliperror);
 
		CloseLibrary(ClipboardBase);
	}

	return 0;
}